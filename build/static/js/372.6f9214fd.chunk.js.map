{"version":3,"file":"static/js/372.6f9214fd.chunk.js","mappings":"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","sources":["components/elements/Modal.jsx","components/pages/DoctorProfile.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport ButtonBlueOutlined from \"./ButtonBlueOutlined\";\r\nimport ButtonBlue from \"./ButtonBlue\";\r\n\r\n\r\nconst UserModal = (props) => {\r\n\r\n    const { show, handleClose, handleShow, handleChanges, nameClose, nameOpen } = props\r\n\r\n    return (\r\n        <div>\r\n            <Modal centered show={show} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>{props.title}</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>{props.text}</Modal.Body>\r\n                <Modal.Footer>\r\n                    <ButtonBlueOutlined onClick={handleClose} name={nameClose}>\r\n                    </ButtonBlueOutlined>\r\n                    <ButtonBlue onClick={handleChanges} name={nameOpen} size='sml'>\r\n                    </ButtonBlue>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserModal","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\r\nimport { CustomContext } from \"../../context/Context\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport PageHeader from \"../elements/PageHeader\";\r\nimport ProfileBanner from \"../../images/profile-banner.png\";\r\nimport {\r\n  MDBCol,\r\n  MDBContainer,\r\n  MDBRow,\r\n  MDBCard,\r\n  MDBCardText,\r\n  MDBCardBody,\r\n  MDBCardImage,\r\n} from \"mdb-react-ui-kit\";\r\nimport ButtonBlue from \"../elements/ButtonBlue\";\r\nimport ButtonBlueOutlined from \"../elements/ButtonBlueOutlined\";\r\nimport CssBaseline from \"@mui/material/CssBaseline\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Container from \"@mui/material/Container\";\r\nimport axios from \"axios\";\r\nimport UserModal from \"../elements/Modal\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport Select from \"@mui/material/Select\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport Loading from \"../elements/Loading\";\r\n\r\nconst theme = createTheme();\r\n\r\nexport default function DoctorProfile() {\r\n  const FileRef = React.useRef();\r\n  const navigate = useNavigate();\r\n\r\n  //use state for getting user info and user from local storage\r\n  const { user, setUser } = useContext(CustomContext);\r\n  const { currentUserInfo, setCurrentUserInfo } = useContext(CustomContext);\r\n\r\n  //usestate for edit toggle button\r\n  const [isOpen, setOpen] = React.useState(false);\r\n  //when edit button is clicked, the update form will appear\r\n  const handleToggle = () => {\r\n    setOpen(!isOpen);\r\n  };\r\n\r\n  //usestate for modal\r\n  const [show, setShow] = useState(false);\r\n  //closing and opening modal functions\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  //when modal delete button is clicked, it will delete the user profile data\r\n  const handleChanges = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      await axios.delete(\r\n        `https://nz-locum-backend-3a82ed85ab97.herokuapp.com/doctors/delete/${user._id}`\r\n      );\r\n      localStorage.clear(); //clear user data on sign-out\r\n      setCurrentUserInfo({});\r\n      navigate(\"/\");\r\n      window.location.reload();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //check if there's user data on page load\r\n  useEffect(() => {\r\n    //getting user's data from local storage\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    if (user) {\r\n      setUser(user);\r\n\r\n      //getting current user's data based on the id stored in local storage\r\n      const getUserById = async () => {\r\n        const res = await axios.get(\r\n          `https://nz-locum-backend-3a82ed85ab97.herokuapp.com/doctors/search/${user._id}`\r\n        );\r\n        setCurrentUserInfo(res.data.currentUserInfo[0]);\r\n        console.log(res.data.currentUserInfo[0]);\r\n      };\r\n      getUserById();\r\n    }\r\n  }, []);\r\n\r\n  const [error, setError] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    setError(null);\r\n    setUploading(true);\r\n\r\n    const data = new FormData(event.currentTarget);\r\n\r\n    const first_name =\r\n      data.get(\"first_name\") == null\r\n        ? currentUserInfo.first_name\r\n        : data.get(\"first_name\");\r\n    const last_name =\r\n      data.get(\"last_name\") == null\r\n        ? currentUserInfo.last_name\r\n        : data.get(\"last_name\");\r\n    const email =\r\n      data.get(\"email\") == null ? currentUserInfo.email : data.get(\"email\");\r\n    let password = data.get(\"password\"); // Get entered password\r\n    const specialities =\r\n      data.get(\"specialities\") == null\r\n        ? currentUserInfo.specialities\r\n        : data.get(\"specialities\");\r\n    const phone =\r\n      data.get(\"phone\") == null ? currentUserInfo.phone : data.get(\"phone\");\r\n    const city =\r\n      data.get(\"city\") == null ? currentUserInfo.city : data.get(\"city\");\r\n    const license =\r\n      data.get(\"license\") == null\r\n        ? currentUserInfo.license\r\n        : data.get(\"license\");\r\n    const availability =\r\n      data.get(\"availability\") == null\r\n        ? currentUserInfo.availability\r\n        : data.get(\"availability\");\r\n    const work_requirement =\r\n      data.get(\"work_requirement\") == null\r\n        ? currentUserInfo.work_requirement\r\n        : data.get(\"work_requirement\");\r\n    const imageKey =\r\n      FileRef.current.files[0] == null\r\n        ? currentUserInfo.imageKey\r\n        : FileRef.current.files[0];\r\n\r\n    const toSend = new FormData();\r\n    toSend.append(\"first_name\", first_name);\r\n    toSend.append(\"last_name\", last_name);\r\n    toSend.append(\"email\", email);\r\n    toSend.append(\"specialities\", specialities);\r\n    toSend.append(\"phone\", phone);\r\n    toSend.append(\"city\", city);\r\n    toSend.append(\"license\", license);\r\n    toSend.append(\"availability\", availability);\r\n    toSend.append(\"work_requirement\", work_requirement);\r\n    toSend.append(\"imageKey\", imageKey);\r\n\r\n    // Send password only if it was updated\r\n    if (password && password !== \"\") {\r\n      toSend.append(\"password\", password); // Append new password\r\n    }\r\n\r\n    try {\r\n      fetch(\r\n        `https://nz-locum-backend-3a82ed85ab97.herokuapp.com/doctors/update/${user._id}`,\r\n        {\r\n          method: \"POST\",\r\n          body: toSend,\r\n        }\r\n      )\r\n        .then(() => {\r\n          window.location.reload();\r\n        })\r\n        .catch((error) => setError(error));\r\n    } catch (error) {\r\n      console.log(error.msg);\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  //when uploading image show the uploading animation\r\n  if (uploading === true) {\r\n    return (\r\n      <>\r\n        <Loading />\r\n      </>\r\n    );\r\n  }\r\n  // if there's a user but the get current info hasn't loaded yet then show loading screen\r\n  if (user && !currentUserInfo) {\r\n    return (\r\n      <>\r\n        <Loading />\r\n      </>\r\n    );\r\n  }\r\n  // if there's a user and user's info, show their profile\r\n  if (user && currentUserInfo) {\r\n    return (\r\n      <>\r\n        <PageHeader\r\n          maoriTitle=\"TÅ KÅtaha\"\r\n          englishTitle=\"Your Profile\"\r\n          background={ProfileBanner}\r\n        />\r\n        <section>\r\n          <MDBContainer className=\"py-5\">\r\n            <MDBRow>\r\n              <MDBCol lg=\"4\">\r\n                <MDBCard className=\"mb-4\">\r\n                  <MDBCardBody className=\"text-center\">\r\n                    <MDBCardImage\r\n                      src={currentUserInfo.imageKey}\r\n                      alt=\"avatar\"\r\n                      className=\"rounded\"\r\n                      style={{\r\n                        width: \"200px\",\r\n                        height: \"200px\",\r\n                        objectFit: \"cover\",\r\n                      }}\r\n                      fluid\r\n                    />\r\n                    <br></br>\r\n                    <br></br>\r\n                    <h3>\r\n                      Dr. {currentUserInfo.first_name}{\" \"}\r\n                      {currentUserInfo.last_name}\r\n                    </h3>\r\n                    <p className=\"text-muted mb-4\">\r\n                      {currentUserInfo.city}, New Zealand\r\n                    </p>\r\n                  </MDBCardBody>\r\n                </MDBCard>\r\n              </MDBCol>\r\n              <MDBCol lg=\"8\">\r\n                <MDBCard className=\"mb-4\">\r\n                  <MDBCardBody>\r\n                    <MDBRow>\r\n                      <MDBCol sm=\"3\">\r\n                        <MDBCardText>Full Name</MDBCardText>\r\n                      </MDBCol>\r\n                      <MDBCol sm=\"9\">\r\n                        <MDBCardText className=\"text-muted\">\r\n                          {currentUserInfo.first_name}{\" \"}\r\n                          {currentUserInfo.last_name}\r\n                        </MDBCardText>\r\n                      </MDBCol>\r\n                    </MDBRow>\r\n                    <hr />\r\n                    <MDBRow>\r\n                      <MDBCol sm=\"3\">\r\n                        <MDBCardText>Email</MDBCardText>\r\n                      </MDBCol>\r\n                      <MDBCol sm=\"9\">\r\n                        <MDBCardText className=\"text-muted\">\r\n                          {currentUserInfo.email}\r\n                        </MDBCardText>\r\n                      </MDBCol>\r\n                    </MDBRow>\r\n                    <hr />\r\n                    <MDBRow>\r\n                      <MDBCol sm=\"3\">\r\n                        <MDBCardText>Phone</MDBCardText>\r\n                      </MDBCol>\r\n                      <MDBCol sm=\"9\">\r\n                        <MDBCardText className=\"text-muted\">\r\n                          {currentUserInfo.phone}\r\n                        </MDBCardText>\r\n                      </MDBCol>\r\n                    </MDBRow>\r\n                    <hr />\r\n                    <MDBRow>\r\n                      <MDBCol sm=\"3\">\r\n                        <MDBCardText>Specialities</MDBCardText>\r\n                      </MDBCol>\r\n                      <MDBCol sm=\"9\">\r\n                        <MDBCardText className=\"text-muted\">\r\n                          {currentUserInfo.specialities}\r\n                        </MDBCardText>\r\n                      </MDBCol>\r\n                    </MDBRow>\r\n                    <hr />\r\n                    <MDBRow>\r\n                      <MDBCol sm=\"3\">\r\n                        <MDBCardText>License</MDBCardText>\r\n                      </MDBCol>\r\n                      <MDBCol sm=\"9\">\r\n                        <MDBCardText className=\"text-muted\">\r\n                          {currentUserInfo.license}\r\n                        </MDBCardText>\r\n                      </MDBCol>\r\n                    </MDBRow>\r\n                    <hr />\r\n                    <MDBRow>\r\n                      <MDBCol sm=\"3\">\r\n                        <MDBCardText>Availability</MDBCardText>\r\n                      </MDBCol>\r\n                      <MDBCol sm=\"9\">\r\n                        <MDBCardText className=\"text-muted\">\r\n                          {currentUserInfo.availability}\r\n                        </MDBCardText>\r\n                      </MDBCol>\r\n                    </MDBRow>\r\n                    <hr />\r\n                    <MDBRow>\r\n                      <MDBCol sm=\"3\">\r\n                        <MDBCardText>Work Requirement</MDBCardText>\r\n                      </MDBCol>\r\n                      <MDBCol sm=\"9\">\r\n                        <MDBCardText className=\"text-muted\">\r\n                          {currentUserInfo.work_requirement}\r\n                        </MDBCardText>\r\n                      </MDBCol>\r\n                    </MDBRow>\r\n                  </MDBCardBody>\r\n                </MDBCard>\r\n                <ButtonBlue\r\n                  name=\"Edit Details\"\r\n                  style={{ marginRight: 30 }}\r\n                  onClick={handleToggle}\r\n                  size=\"sml\"\r\n                ></ButtonBlue>\r\n                <ButtonBlueOutlined\r\n                  name=\"Delete Profile\"\r\n                  style={{ marginRight: 30 }}\r\n                  onClick={() => handleShow()}\r\n                  size=\"sml\"\r\n                ></ButtonBlueOutlined>\r\n\r\n                {/* modal for user deletion*/}\r\n                <UserModal\r\n                  show={show}\r\n                  handleClose={handleClose}\r\n                  handleShow={handleShow}\r\n                  handleChanges={handleChanges}\r\n                  nameClose=\"Cancel\"\r\n                  nameOpen=\"Delete Profile\"\r\n                  title=\"We are sad to see you go! ðŸ˜”\"\r\n                  text=\"Are you sure you want to delete your profile? You can not undo this action\"\r\n                />\r\n              </MDBCol>\r\n            </MDBRow>\r\n          </MDBContainer>\r\n\r\n          {/* form will show when the edit button is clicked */}\r\n\r\n          {isOpen && (\r\n            <ThemeProvider theme={theme}>\r\n              <Container component=\"main\">\r\n                <CssBaseline />\r\n                <Box\r\n                  sx={{\r\n                    marginTop: 8,\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    alignItems: \"left\",\r\n                    textAlign: \"left\",\r\n                  }}\r\n                >\r\n                  <h3>Edit Your Details</h3>\r\n                  <Box\r\n                    component=\"form\"\r\n                    noValidate\r\n                    onSubmit={handleSubmit}\r\n                    sx={{ mt: 3 }}\r\n                  >\r\n                    {error ? <h1>{error.toString()}</h1> : null}\r\n\r\n                    <Grid container spacing={2}>\r\n                      <Grid item xs={12}>\r\n                        <Card>\r\n                          <div id=\"cards\">\r\n                            <input ref={FileRef} type=\"file\" />\r\n                            <div className=\"small text-muted mt-2\">\r\n                              Upload your profile picture. Max file size 1 MB\r\n                            </div>\r\n                          </div>\r\n                        </Card>\r\n                      </Grid>\r\n                      <br></br>\r\n\r\n                      <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                          autoComplete=\"first_name\"\r\n                          name=\"first_name\"\r\n                          fullWidth\r\n                          id=\"first_name\"\r\n                          label=\"First Name\"\r\n                          autoFocus\r\n                          defaultValue={currentUserInfo.first_name}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                          fullWidth\r\n                          id=\"last_name\"\r\n                          label=\"Last Name\"\r\n                          name=\"last_name\"\r\n                          autoComplete=\"family-name\"\r\n                          defaultValue={currentUserInfo.last_name}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <TextField\r\n                          fullWidth\r\n                          id=\"email\"\r\n                          label=\"Email Address\"\r\n                          name=\"email\"\r\n                          autoComplete=\"email\"\r\n                          defaultValue={currentUserInfo.email}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <TextField\r\n                          fullWidth\r\n                          name=\"password\"\r\n                          label=\"Password\"\r\n                          type=\"password\"\r\n                          id=\"password\"\r\n                          autoComplete=\"new-password\"\r\n                          placeholder={\"Your password\"}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <TextField\r\n                          fullWidth\r\n                          name=\"phone\"\r\n                          label=\"Phone\"\r\n                          type=\"number\"\r\n                          id=\"phone\"\r\n                          autoComplete=\"new-phone\"\r\n                          defaultValue={currentUserInfo.phone}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <FormControl fullWidth>\r\n                          <InputLabel id=\"city\">City*</InputLabel>\r\n                          <Select\r\n                            labelId=\"city\"\r\n                            id=\"city\"\r\n                            name=\"city\"\r\n                            label=\"City\"\r\n                            required\r\n                            defaultValue={currentUserInfo.city}\r\n                          >\r\n                            <MenuItem value={\"Northland\"}>Northland</MenuItem>\r\n                            <MenuItem value={\"Auckland\"}>Auckland</MenuItem>\r\n                            <MenuItem value={\"Wellington\"}>Wellington</MenuItem>\r\n                            <MenuItem value={\"Dunedin\"}>Dunedin</MenuItem>\r\n                            <MenuItem value={\"Christchurch\"}>\r\n                              Christchurch\r\n                            </MenuItem>\r\n                            <MenuItem value={\"Queenstown\"}>Queenstown</MenuItem>\r\n                          </Select>\r\n                        </FormControl>\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                          fullWidth\r\n                          name=\"license\"\r\n                          label=\"License\"\r\n                          type=\"text\"\r\n                          id=\"license\"\r\n                          autoComplete=\"new-license\"\r\n                          defaultValue={currentUserInfo.license}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <TextField\r\n                          fullWidth\r\n                          name=\"specialities\"\r\n                          label=\"Specialities\"\r\n                          type=\"text\"\r\n                          id=\"specialities\"\r\n                          autoComplete=\"specialities\"\r\n                          multiline\r\n                          rows={2}\r\n                          defaultValue={currentUserInfo.specialities}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <TextField\r\n                          fullWidth\r\n                          name=\"availability\"\r\n                          label=\"Availability\"\r\n                          type=\"text\"\r\n                          id=\"availability\"\r\n                          autoComplete=\"availability\"\r\n                          multiline\r\n                          rows={2}\r\n                          defaultValue={currentUserInfo.availability}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <TextField\r\n                          fullWidth\r\n                          name=\"work_requirement\"\r\n                          label=\"Work Requirement\"\r\n                          type=\"text\"\r\n                          id=\"work_requirement\"\r\n                          autoComplete=\"work_requirement\"\r\n                          placeholder=\"Please book 2 weeks in advance\"\r\n                          multiline\r\n                          rows={2}\r\n                          defaultValue={currentUserInfo.work_requirement}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <ButtonBlue\r\n                          name=\"Save Changes\"\r\n                          type=\"submit\"\r\n                          style={{ marginBottom: 50 }}\r\n                          size=\"sml\"\r\n                        ></ButtonBlue>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Box>\r\n                </Box>\r\n              </Container>\r\n            </ThemeProvider>\r\n          )}\r\n        </section>\r\n      </>\r\n    );\r\n  }\r\n\r\n  // if there's no user, show the login form\r\n  return (\r\n    <div id=\"card-page\">\r\n      <br></br>\r\n      <br></br>\r\n      <Alert id=\"cards\">Please sign in</Alert>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["props","show","handleClose","handleChanges","handleShow","nameClose","nameOpen","centered","onHide","closeButton","title","text","onClick","name","size","theme","createTheme","DoctorProfile","FileRef","React","navigate","useNavigate","useContext","CustomContext","user","setUser","currentUserInfo","setCurrentUserInfo","isOpen","setOpen","useState","setShow","event","preventDefault","axios","_id","localStorage","clear","window","location","reload","console","log","useEffect","JSON","parse","getItem","getUserById","res","data","error","setError","uploading","setUploading","maoriTitle","englishTitle","background","ProfileBanner","className","lg","src","imageKey","alt","style","width","height","objectFit","fluid","first_name","last_name","city","sm","email","phone","specialities","license","availability","work_requirement","marginRight","component","sx","marginTop","display","flexDirection","alignItems","textAlign","noValidate","onSubmit","FormData","currentTarget","get","password","current","files","toSend","append","fetch","method","body","then","catch","msg","mt","toString","container","spacing","item","xs","id","ref","type","autoComplete","fullWidth","label","autoFocus","defaultValue","placeholder","labelId","required","value","multiline","rows","marginBottom"],"sourceRoot":""}